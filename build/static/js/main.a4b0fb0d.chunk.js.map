{"version":3,"sources":["services/persons.js","components/Notification.js","components/PersonForm.js","components/Persons.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","msg","notification","type","className","PersonForm","newName","newNum","handlePersonChange","handleNumChange","addPerson","onSubmit","value","onChange","UniquePerson","name","num","deletePerson","onClick","Persons","persons","newFind","handleDeletePerson","filter","person","toUpperCase","includes","map","number","Filter","handleFindChange","App","useState","setPersons","setNewName","setNewNum","setNewFind","setNotification","useEffect","personService","event","target","preventDefault","personObject","length","window","confirm","oldPerson","find","newPerson","catch","error","console","log","concat","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4b0fb0d.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    addPerson: addPerson,\r\n    update: update,\r\n    deletePerson: deletePerson\r\n}","import React from \"react\"\r\n\r\nconst Notification = ({msg}) => {\r\n    if (msg === null){\r\n        return null\r\n    }\r\n    const {notification, type} = msg\r\n    return (\r\n        <div className={type}> {notification}</div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React from \"react\"\r\n\r\nconst PersonForm = ({newName, newNum, handlePersonChange, handleNumChange, addPerson}) => {\r\n    return <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handlePersonChange}/>\r\n      </div>\r\n      <div>\r\n        number: <input value={newNum} onChange={handleNumChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Persons = ({persons, newFind, handleDeletePerson}) => {\r\n\r\n    return (\r\n      <ul>\r\n        {persons.filter(person => person.name.toUpperCase().includes(newFind.toUpperCase())).map(person => (\r\n          <UniquePerson key={person.id} name={person.name} num={person.number} deletePerson={handleDeletePerson(person.name, person.id)}/> \r\n        ))}\r\n      </ul>\r\n    )\r\n  }\r\n  \r\n  \r\n  \r\nconst UniquePerson = ({name, num, deletePerson}) =>{\r\n  return (\r\n    <li>{name} {num} <button onClick={deletePerson}> delete</button></li>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nconst Filter = ({newFind, handleFindChange}) => {\r\n    return <div>\r\n      filter shown with <input value={newFind} onChange={handleFindChange} />\r\n    </div>\r\n}\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\nimport personService from \"./services/persons\"\nimport Notification from \"./components/Notification\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport Filter from \"./components/Filter\"\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNum, setNewNum] = useState(\"\")\n  const [newFind, setNewFind] = useState(\"\")\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNum\n    }\n    if (persons.filter(person => person.name === personObject.name).length > 0){\n      if (window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\n        const oldPerson = persons.find(person => person.name === newName)\n        personService.update(oldPerson.id, {...oldPerson, number: newNum}).then(newPerson => {\n          setPersons(persons.map(person => (person.name === newName ? newPerson : person)))\n        }).catch(error => {\n          setNotification({notification: `Information of ${personObject.name} has already been removed from server`, type: \"error\"})\n          console.log(\"Failed to update\")\n        })\n        setPersons(persons.concat(personObject))\n        setNotification({notification: `Number of ${personObject.name} has been updated`, type: \"success\"})\n        console.log(\"Number updated\")\n        setNewName(\"\")\n        setNewNum(\"\")\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      }\n    } \n    else{\n      personService.addPerson(personObject).then(person => {\n        setPersons(persons.concat(person))\n        setNotification({notification: `Added ${personObject.name}`, type: \"success\"})\n        console.log(\"Added new\")\n        setNewName(\"\")\n        setNewNum(\"\")\n      }).catch(error => {\n        setNotification(error.response.data.error)\n        console.log(error.response.data)\n      })\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value)\n  }\n\n  const handleFindChange = (event) => {\n    setNewFind(event.target.value)\n  }\n\n  const handleDeletePerson = (name, id) => {\n    return () => {\n      if (window.confirm(`Delete ${name} ?`)) {\n        personService.deletePerson(id).then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNotification({notification: `Deleted ${name}`, type: \"success\"})\n          console.log(\"Deleted someone\")\n        }).catch(error => {\n          setPersons(persons.filter(person => person.id !== name))\n          setNotification({notification: `Person named ${name} has already been deleted`, type: \"error\"})\n          console.log(\"Name already deleted\")\n        })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      }\n    }\n\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification msg={notification}/>\n      <Filter newFind={newFind} handleFindChange={handleFindChange}/>\n      <h2>add a new</h2>\n      <PersonForm newName={newName} newNum={newNum} handlePersonChange={handlePersonChange} handleNumChange={handleNumChange} addPerson={addPerson} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} newFind={newFind} handleDeletePerson={handleDeletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport \"./index.css\"\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}