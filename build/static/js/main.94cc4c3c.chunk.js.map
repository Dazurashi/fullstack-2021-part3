{"version":3,"sources":["services/persons.js","components/Notification.js","components/PersonForm.js","components/Persons.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","request","post","console","log","body","id","put","delete","Notification","msg","notification","type","className","PersonForm","newName","newNum","handlePersonChange","handleNumChange","addPerson","onSubmit","value","onChange","UniquePerson","name","num","deletePerson","onClick","Persons","persons","newFind","handleDeletePerson","filter","person","toUpperCase","includes","map","number","Filter","handleFindChange","App","useState","setPersons","setNewName","setNewNum","setNewFind","setNotification","useEffect","personService","event","target","preventDefault","personObject","length","window","confirm","oldPerson","find","newPerson","catch","error","concat","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94cc4c3c.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    console.log(request.body)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    addPerson: addPerson,\r\n    update: update,\r\n    deletePerson: deletePerson\r\n}","import React from \"react\"\r\n\r\nconst Notification = ({msg}) => {\r\n    if (msg === null){\r\n        return null\r\n    }\r\n    const {notification, type} = msg\r\n    return (\r\n        <div className={type}> {notification}</div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React from \"react\"\r\n\r\nconst PersonForm = ({newName, newNum, handlePersonChange, handleNumChange, addPerson}) => {\r\n    return <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handlePersonChange}/>\r\n      </div>\r\n      <div>\r\n        number: <input value={newNum} onChange={handleNumChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Persons = ({persons, newFind, handleDeletePerson}) => {\r\n\r\n    return (\r\n      <ul>\r\n        {persons.filter(person => person.name.toUpperCase().includes(newFind.toUpperCase())).map(person => (\r\n          <UniquePerson key={person.id} name={person.name} num={person.number} deletePerson={handleDeletePerson(person.name, person.id)}/> \r\n        ))}\r\n      </ul>\r\n    )\r\n  }\r\n  \r\n  \r\n  \r\nconst UniquePerson = ({name, num, deletePerson}) =>{\r\n  return (\r\n    <li>{name} {num} <button onClick={deletePerson}> delete</button></li>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nconst Filter = ({newFind, handleFindChange}) => {\r\n    return <div>\r\n      filter shown with <input value={newFind} onChange={handleFindChange} />\r\n    </div>\r\n}\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\r\nimport personService from \"./services/persons\"\r\nimport Notification from \"./components/Notification\"\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport Persons from \"./components/Persons\"\r\nimport Filter from \"./components/Filter\"\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [newNum, setNewNum] = useState(\"\")\r\n  const [newFind, setNewFind] = useState(\"\")\r\n  const [notification, setNotification] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(response => {\r\n      setPersons(response)\r\n    })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNum\r\n    }\r\n    if (persons.filter(person => person.name === personObject.name).length > 0){\r\n      if (window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const oldPerson = persons.find(person => person.name === newName)\r\n        personService.update(oldPerson.id, {...oldPerson, number: newNum}).then(newPerson => {\r\n          setPersons(persons.map(person => (person.name === newName ? newPerson : person)))\r\n        }).catch(error => {\r\n          setNotification({notification: `Information of ${personObject.name} has already been removed from server`, type: \"error\"})\r\n          console.log(\"Failed to update\")\r\n        })\r\n        setPersons(persons.concat(personObject))\r\n        setNotification({notification: `Number of ${personObject.name} has been updated`, type: \"success\"})\r\n        console.log(\"Number updated\")\r\n        setNewName(\"\")\r\n        setNewNum(\"\")\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 5000)\r\n      }\r\n    } \r\n    else{\r\n      personService.addPerson(personObject).then(person => {\r\n        setPersons(persons.concat(person))\r\n        setNotification({notification: `Added ${personObject.name}`, type: \"success\"})\r\n        console.log(\"Added new\")\r\n        setNewName(\"\")\r\n        setNewNum(\"\")\r\n      }).catch(error => {\r\n        setNotification({notification: error.response.data.error, type: \"error\"})\r\n        console.log(error.response.data)\r\n      })\r\n      setTimeout(() => {\r\n        setNotification(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  const handlePersonChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumChange = (event) => {\r\n    setNewNum(event.target.value)\r\n  }\r\n\r\n  const handleFindChange = (event) => {\r\n    setNewFind(event.target.value)\r\n  }\r\n\r\n  const handleDeletePerson = (name, id) => {\r\n    return () => {\r\n      if (window.confirm(`Delete ${name} ?`)) {\r\n        personService.deletePerson(id).then(() => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setNotification({notification: `Deleted ${name}`, type: \"success\"})\r\n          console.log(\"Deleted someone\")\r\n        }).catch(error => {\r\n          setPersons(persons.filter(person => person.id !== name))\r\n          setNotification({notification: `Person named ${name} has already been deleted`, type: \"error\"})\r\n          console.log(\"Name already deleted\")\r\n        })\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 5000)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification msg={notification}/>\r\n      <Filter newFind={newFind} handleFindChange={handleFindChange}/>\r\n      <h2>add a new</h2>\r\n      <PersonForm newName={newName} newNum={newNum} handlePersonChange={handlePersonChange} handleNumChange={handleNumChange} addPerson={addPerson} />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} newFind={newFind} handleDeletePerson={handleDeletePerson}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport \"./index.css\"\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}